---
alwaysApply: true
---

# KRAPI Application Architecture

## Core Technologies

- **Frontend**: Next.js 15 with App Router (no src directory)
- **Backend**: Node.js with Express
- **Database**: PostgreSQL (not SQLite)
- **Package Manager**: pnpm

## Application Type

CMS/Backend-as-a-Service platform mimicking Appwrite-style services. The frontend is a web UI for admin management - the backend should be fully functional without the frontend.

## Key Architectural Principles

### Project-Centric Design

- Each project is a completely isolated workspace
- Project pages have their own sidebar and top bar (like Appwrite)
- Projects contain: users, database, storage, API keys, settings
- When entering a project, the entire UI changes to project-specific navigation

### Scalability Focus

- Multiple deployments can link together
- Shared database and load distribution
- Horizontal scaling support

### Frontend Structure

- Next.js 15 App Router
- Server Components by default
- Client Components only for interactivity
- TypeScript strict mode
- Tailwind CSS + Shadcn UI

### Backend Structure

- Unified API endpoint with operation/resource/action routing
- Project isolation at database level
- JWT authentication
- Admin operations separate from project operations

### Development Guidelines

- Type-safe API client
- Comprehensive error handling
- Loading states for all async operations
- Dark/light theme support
- Mobile-responsive design

## Workflow

1. Admin login (admin/admin)
2. Dashboard shows projects or create first project
3. Project creation: name + optional ID + description
4. Project workspace with project-specific navigation
5. Each project is self-contained with its own data, users, files

## Important Notes

- File structure is not stable yet - focus on functionality over structure
- Backend must work independently of frontend
- Frontend is admin management interface only
- Follow Appwrite-style project isolation and UI patterns

---

# KRAPI Application Architecture

## Core Technologies

- **Frontend**: Next.js 15 with App Router (no src directory)
- **Backend**: Node.js with Express
- **Database**: PostgreSQL (not SQLite)
- **Package Manager**: pnpm

## Application Type

CMS/Backend-as-a-Service platform mimicking Appwrite-style services. The frontend is a web UI for admin management - the backend should be fully functional without the frontend.

## Key Architectural Principles

### Project-Centric Design

- Each project is a completely isolated workspace
- Project pages have their own sidebar and top bar (like Appwrite)
- Projects contain: users, database, storage, API keys, settings
- When entering a project, the entire UI changes to project-specific navigation

### Scalability Focus

- Multiple deployments can link together
- Shared database and load distribution
- Horizontal scaling support

### Frontend Structure

- Next.js 15 App Router
- Server Components by default
- Client Components only for interactivity
- TypeScript strict mode
- Tailwind CSS + Shadcn UI

### Backend Structure

- Unified API endpoint with operation/resource/action routing
- Project isolation at database level
- JWT authentication
- Admin operations separate from project operations

### Development Guidelines

- Type-safe API client
- Comprehensive error handling
- Loading states for all async operations
- Dark/light theme support
- Mobile-responsive design

## Workflow

1. Admin login (admin/admin)
2. Dashboard shows projects or create first project
3. Project creation: name + optional ID + description
4. Project workspace with project-specific navigation
5. Each project is self-contained with its own data, users, files

## Important Notes

- File structure is not stable yet - focus on functionality over structure
- Backend must work independently of frontend
- Frontend is admin management interface only
- Follow Appwrite-style project isolation and UI patterns

---
