# KRAPI Unified Environment Configuration
# Copy this file to .env and update the values for your environment

# ===== APPLICATION CONFIGURATION =====
APP_NAME=KRAPI
APP_VERSION=2.0.0
NODE_ENV=development

# ===== DATABASE CONFIGURATION =====
DB_HOST=localhost
DB_PORT=5420
DB_NAME=krapi
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# ===== POSTGRESQL CONTAINER CONFIGURATION =====
DB_CONTAINER_NAME=krapi-postgres
DB_CONTAINER_IMAGE=postgres:15
DB_CONTAINER_PORT=5432

# ===== AUTHENTICATION & SECURITY =====
JWT_SECRET=your-256-bit-jwt-secret-key-here-change-this-in-production
JWT_EXPIRES_IN=7d
SESSION_EXPIRES_IN=1h

# ===== DEFAULT ADMIN ACCOUNT =====
# These are used only for initial setup - change immediately after first login
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=admin
DEFAULT_ADMIN_EMAIL=admin@yourdomain.com

# ===== BACKEND SERVER CONFIGURATION =====
BACKEND_PORT=3470
BACKEND_HOST=localhost
BACKEND_URL=http://localhost:3470

# ===== FRONTEND SERVER CONFIGURATION =====
FRONTEND_PORT=3498
FRONTEND_HOST=localhost
FRONTEND_URL=http://localhost:3498
NEXT_PUBLIC_API_URL=http://localhost:3470/krapi/k1

# ===== NETWORK CONFIGURATION =====
# Network interface to listen on:
# - localhost: Only accessible from local machine (default, most secure)
# - 0.0.0.0: Accessible from all network interfaces (requires proper security)
# WARNING: Using 0.0.0.0 exposes your server to all network interfaces.
# Make sure you have proper firewall rules, HTTPS, and authentication configured.
FRONTEND_HOST=localhost
BACKEND_HOST=localhost

# ===== SECURITY CONFIGURATION =====
# Comma-separated list of allowed origins for CORS
# Example: https://yourdomain.com,https://app.yourdomain.com
# Leave empty to allow all origins (not recommended for production)
ALLOWED_ORIGINS=

# ===== FILE STORAGE =====
UPLOAD_PATH=./data/uploads
MAX_FILE_SIZE=52428800

# ===== EMAIL CONFIGURATION (Optional) =====
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=

# ===== CORS CONFIGURATION =====
ENABLE_CORS=true
CORS_ORIGIN=http://localhost:3498
# Additional allowed origins (comma-separated)
# Example: https://yourdomain.com,https://app.yourdomain.com
ALLOWED_ORIGINS=

# ===== LOGGING CONFIGURATION =====
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
LOG_FILE_PATH=./logs
MAX_LOG_FILES=10
MAX_LOG_SIZE=10MB

# ===== SYSTEM MONITORING =====
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000
ENABLE_METRICS=true
METRICS_RETENTION_DAYS=30

# ===== ERROR HANDLING =====
ENABLE_ERROR_RECOVERY=true
MAX_ERROR_RETRIES=3
ERROR_RECOVERY_DELAY=5000
ENABLE_CRASH_REPORTING=true

# ===== MONITORING & ALERTS =====
ENABLE_AUTO_RECOVERY=true
MEMORY_ALERT_THRESHOLD=80
CPU_ALERT_THRESHOLD=80
ERROR_RATE_THRESHOLD=5
RESPONSE_TIME_THRESHOLD=1000
ENABLE_ALERTS=false

# ===== BACKUP CONFIGURATION =====
BACKUP_DIR=./data/backups
BACKUP_ENCRYPTION_ALGORITHM=aes-256-gcm
BACKUP_COMPRESSION_LEVEL=6
